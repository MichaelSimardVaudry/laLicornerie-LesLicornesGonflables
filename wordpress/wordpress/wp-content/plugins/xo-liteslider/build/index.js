!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){!function(){e.exports=this.wp.url}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(14);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(15),o=n(3);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(7),o=n(2),i=n(8),c=n.n(i),l=n(9),u=n.n(l),s=n(3),a=n.n(s),f=n(10),p=n.n(f),d=n(11),b=n.n(d),m=n(4),h=n.n(m),y=n(0),v=n(12),O=n(1),j=n(5),S=n.n(j),x=n(6),_=n(13),w=Object(y.createElement)(O.SVG,{viewBox:"0 0 52 30"},Object(y.createElement)(O.Path,{d:"m 46.992829,2.7202846 v 2.3804293 h 2.640173 V 24.898508 h -2.640173 v 2.380434 H 52 V 2.7202846 Z"}),Object(y.createElement)(O.Path,{d:"m 352.03751,462.06516 c 41.09671,0 82.19342,0 123.29013,0 0,32.85821 0,65.71643 0,98.57464 -41.09671,0 -82.19342,0 -123.29013,0 0,-32.85821 0,-65.71643 0,-98.57464 z"}),Object(y.createElement)(O.Path,{d:"M 7.8786587,-9.3254442e-8 C 7.8786587,9.9999999 7.8786587,20 7.8786587,30 20.085694,30 32.29273,30 44.499766,30 c 0,-10 0,-20.0000001 0,-30.000000093254442 -12.207036,0 -24.414072,0 -36.6211073,0 z M 10.626155,2.7630876 c 10.375372,0 20.750743,0 31.126115,0 0,8.1579424 0,16.3158854 0,24.4738274 -10.375372,0 -20.750743,0 -31.126115,0 0,-8.157942 0,-16.315885 0,-24.4738274 z"}),Object(y.createElement)(O.Path,{d:"M 34.357468,8.8914098 C 34.45669,11.025656 31.820941,12.524165 30.053707,11.33868 28.183986,10.323996 28.265696,7.2801821 30.187019,6.3683315 32.002044,5.334196 34.414978,6.790888 34.357468,8.8914098 Z"}),Object(y.createElement)(O.Path,{d:"m 20.126544,9.26688 c -0.845534,0.011837 -1.691069,0.023673 -2.536603,0.03551 -0.891894,2.085102 -2.231527,3.973057 -4.13658,5.232686 -1.226101,0.387453 -0.954606,1.523375 -0.96155,2.52481 0,2.778138 0,5.556277 0,8.334416 9.131639,0 18.263278,0 27.394917,0 0,-1.141436 0,-2.28287 0,-3.424305 C 35.48349,20.760481 31.177456,19.07284 27.426133,16.413624 24.49957,14.585225 22.065666,12.121993 20.126544,9.26688 Z"}),Object(y.createElement)(O.Path,{d:"m 5.385594,2.7202846 v 2.38043 H 2.745421 V 24.898508 h 2.640173 v 2.380434 H 0.37842305 V 2.7202846 Z"}));n(16);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var E=function(e){p()(n,e);var t=g(n);function n(){var e;return c()(this,n),(e=t.apply(this,arguments)).state={editing:!e.props.attributes.sliderID,preview:null},e.onSubmitSlider=e.onSubmitSlider.bind(a()(e)),e}return u()(n,[{key:"componentDidMount",value:function(){var e=this;this.isStillMounted=!0,this.fetchRequest=S()({path:Object(x.addQueryArgs)("/xo-slider/v1/preview/".concat(this.props.attributes.sliderID))}).then((function(t){e.isStillMounted&&e.setState({preview:t})})).catch((function(){e.isStillMounted&&e.setState({preview:0})}))}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"onSubmitSlider",value:function(e){var t=this;e.preventDefault();var n=this.props.attributes.sliderID;n&&this.setState({editing:!1}),this.fetchRequest=S()({path:Object(x.addQueryArgs)("/xo-slider/v1/preview/".concat(n))}).then((function(e){t.isStillMounted&&t.setState({preview:e})})).catch((function(){t.isStillMounted&&t.setState({preview:0})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.attributes,r=t.setAttributes,i=t.posts,c=t.className,l=n.sliderID,u=this.state.preview,s=[{icon:"edit",title:Object(o.__)("Select a slider","xo-liteslider"),onClick:function(){return e.setState({editing:!0})}}];return Array.isArray(i)&&i.length?this.state.editing?Object(y.createElement)(O.Placeholder,{icon:w,label:Object(o.__)("Slider","xo-liteslider")},Object(y.createElement)("form",{onSubmit:this.onSubmitSlider,className:c+"__placeholder-form"},Object(y.createElement)(O.SelectControl,{value:l,options:[{label:Object(o.__)("- Select -","xo-liteslider"),value:0}].concat(i.map((function(e){return{label:e.title.raw,value:e.id}}))),onChange:function(e){return r({sliderID:Number(e)})},className:c+"__select"}),Object(y.createElement)(O.Button,{isPrimary:!0,type:"submit",className:c+"__button"},Object(o.__)("Use Slider","xo-liteslider")))):Object(y.createElement)(y.Fragment,null,Object(y.createElement)(v.BlockControls,null,Object(y.createElement)(O.Toolbar,{controls:s})),Object(y.createElement)(O.Disabled,null,Object(y.createElement)("div",{className:c},Object(y.createElement)("div",{className:c+"__wrapper"},Object(y.createElement)("iframe",{srcDoc:u,onLoad:function(){xoSliderIframeLoaded(e.props.clientId)}}))))):Object(y.createElement)(y.Fragment,null,Object(y.createElement)(O.Placeholder,{icon:w,label:Object(o.__)("Slider","xo-liteslider")},Array.isArray(i)?Object(o.__)("No sliders found.","xo-liteslider"):Object(y.createElement)(O.Spinner,null)))}}]),n}(y.Component),P=Object(_.withSelect)((function(e,t){return{posts:(0,e("core").getEntityRecords)("postType","xo_liteslider",{per_page:-1})||[]}}))(E);Object(r.registerBlockType)("xo-liteslider/xo-slider",{title:Object(o.__)("XO Slider","xo-liteslider"),description:Object(o.__)("Display the slider.","xo-liteslider"),category:"widgets",icon:{foreground:"#782121",src:w},supports:{align:["wide","full"],alignWide:!0,html:!1},attributes:{sliderID:{type:"number",default:0}},edit:P,save:function(){return null}})}]);